const e=document.querySelector(".shopping-book-list"),t=document.querySelector(".first-btn"),o=document.querySelector(".prev-btn"),n=document.querySelector(".prev-numer-btn"),l=document.querySelector(".now-btn"),c=document.querySelector(".next-numer-btn"),i=document.querySelector(".next-btn"),s=document.querySelector(".last-btn");function a(t){var o;(o=t,fetch(`https://books-backend.p.goit.global/books/${o}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))).then((({_id:t,book_image:o,author:n,title:l,description:c,list_name:i})=>{e.insertAdjacentHTML("beforeend",`<li class="shoping-book-card ${t.slice(-5)}">\n              <div class="shoping-book-card-img">\n        <img src="${o}" alt="${t}"width="335" height="485">\n      </div>\n      <div class="shoping-book-card-text">\n        <div class="shoping-book-card-title_and_ganre">\n            <h3 class="shoping-book-card-title">${l}</h3>\n            <h4 class="shoping-book-card-ganre">${i}</h4>\n            <p class="shoping-book-card-description">${c}</p>\n        </div>\n        <h4 class="shoping-book-card-author">${n}</h4>\n      </div>\n       <div class="shoping-list-images">\n          <ul class="list-images">\n            <li><a href="https://www.amazon.com/" class="image-link image-link-amazon"></a></li>\n            <li><a href="https://www.openebooks.org/" class="image-link image-link-openBook"></a></li>\n            <li><a href="https://bookshop.org/" class="image-link image-link-bookShop"></a></li>\n          </ul>\n        </div>\n      <button class="shoping-list-btn shoping-list-btn${l.toLowerCase().replace(/\s/g,"").replace(/[.,';!&:]/g,"")}">\n      \n    </button>\n            </li>`);const s=document.querySelector(`.shoping-list-btn${l.toLowerCase().replace(/\s/g,"").replace(/[.,;!&:]/g,"")}`);s.addEventListener("click",(()=>{const o=s.closest(".shoping-book-card");if(o){e.removeChild(o),localStorage.removeItem(t);const n=document.querySelectorAll(".shoping-book-card");if(0===n.length){const e=document.querySelector(".empty-shopping-list-div"),t=document.querySelector(".pagination");e.style.display="block",t.style.display="none"}n.length<3&&localStorage.length>3&&(a(function(){const e=Object.keys(localStorage),t=Array.from(document.querySelectorAll(".shoping-book-card")).map((e=>e.classList[1]));for(const o of e)if("BOOK"===localStorage[o]){const e=o.slice(-5);if(!t.includes(e))return o}}()),d())}}))}))}function r(t){const o=3*(t-1),n=o+3,l=Object.keys(localStorage);if(e.innerHTML="",localStorage.length>1)for(let e=o;e<n&&e<l.length;e++){let t;if(t=l.length>3&&"theme"===l[e]?"theme"==l[l.lendth-1]?l[l.length-2]:l[l.length-1]:l[e],"BOOK"===localStorage[t]){const e=document.querySelector(".empty-shopping-list-div");a(t);const o=document.querySelector(".pagination"),n=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length;o.style.display=n<=3?"none":"flex",e.style.display="none"}}else{document.querySelector(".empty-shopping-list-div").style.display="block";document.querySelector(".pagination").style.display="none"}}let g=1;function d(){const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,t=Math.ceil(e/3);n.textContent=g-1,l.textContent=g,c.textContent=g+1,1==g&&(n.textContent="-"),g==t&&(c.textContent="-");const o=document.querySelector(".pagination");e<=3&&(o.style.display="none")}t.addEventListener("click",(()=>{g=1,d(),r(g)})),o.addEventListener("click",(()=>{g>1&&(g--,d(),r(g))})),n.addEventListener("click",(()=>{g>1&&(g--,d(),r(g))})),c.addEventListener("click",(()=>{const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,t=Math.ceil(e/3);g<t&&(g++,d(),r(g))})),i.addEventListener("click",(()=>{const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,t=Math.ceil(e/3);g<t&&(g++,d(),r(g))})),s.addEventListener("click",(()=>{const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,t=Math.ceil(e/3);g=t,d(),r(g)})),d(),r(g);
//# sourceMappingURL=shoping-list.a4913a61.js.map
