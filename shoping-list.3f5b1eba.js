!function(){var e=document.querySelector(".shopping-book-list"),t=document.querySelector(".first-btn"),n=document.querySelector(".prev-btn"),o=document.querySelector(".prev-numer-btn"),l=document.querySelector(".now-btn"),c=document.querySelector(".next-numer-btn"),a=document.querySelector(".next-btn"),r=document.querySelector(".last-btn");function i(t){var n;(n=t,fetch("https://books-backend.p.goit.global/books/".concat(n)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))).then((function(t){var n=t._id,o=t.book_image,l=t.author,c=t.title,a=t.description,r=t.list_name;e.insertAdjacentHTML("beforeend",'<li class="shoping-book-card '.concat(n.slice(-5),'">\n              <div class="shoping-book-card-img">\n        <img src="').concat(o,'" alt="').concat(n,'"width="335" height="485">\n      </div>\n      <div class="shoping-book-card-text">\n        <div class="shoping-book-card-title_and_ganre">\n            <h3 class="shoping-book-card-title">').concat(c,'</h3>\n            <h4 class="shoping-book-card-ganre">').concat(r,'</h4>\n            <p class="shoping-book-card-description">').concat(a,'</p>\n        </div>\n        <h4 class="shoping-book-card-author">').concat(l,'</h4>\n      </div>\n       <div class="shoping-list-images">\n          <ul class="list-images">\n            <li><a href="https://www.amazon.com/" class="image-link image-link-amazon"></a></li>\n            <li><a href="https://www.openebooks.org/" class="image-link image-link-openBook"></a></li>\n            <li><a href="https://bookshop.org/" class="image-link image-link-bookShop"></a></li>\n          </ul>\n        </div>\n      <button class="shoping-list-btn shoping-list-btn').concat(c.toLowerCase().replace(/\s/g,"").replace(/[.,';!&:]/g,""),'">\n      \n    </button>\n            </li>'));var s=document.querySelector(".shoping-list-btn".concat(c.toLowerCase().replace(/\s/g,"").replace(/[.,;!&:]/g,"")));s.addEventListener("click",(function(){var t=s.closest(".shoping-book-card");if(t){e.removeChild(t),localStorage.removeItem(n);var o=document.querySelectorAll(".shoping-book-card");if(0===o.length){var l=document.querySelector(".empty-shopping-list-div"),c=document.querySelector(".pagination");l.style.display="block",c.style.display="none"}o.length<3&&localStorage.length>3&&(i(function(){var e=Object.keys(localStorage),t=Array.from(document.querySelectorAll(".shoping-book-card")).map((function(e){return e.classList[1]})),n=!0,o=!1,l=void 0;try{for(var c,a=e[Symbol.iterator]();!(n=(c=a.next()).done);n=!0){var r=c.value;if("BOOK"===localStorage[r]){var i=r.slice(-5);if(!t.includes(i))return r}}}catch(e){o=!0,l=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw l}}}()),d())}}))}))}function s(t){var n=3*(t-1),o=n+3,l=Object.keys(localStorage);if(e.innerHTML="",localStorage.length>1)for(var c=n;c<o&&c<l.length;c++){var a=void 0;if(a=l.length>3&&"theme"===l[c]?"theme"==l[l.lendth-1]?l[l.length-2]:l[l.length-1]:l[c],"BOOK"===localStorage[a]){var r=document.querySelector(".empty-shopping-list-div");i(a);var s=document.querySelector(".pagination"),u=Object.keys(localStorage).filter((function(e){return"BOOK"===localStorage[e]})).length;s.style.display=u<=3?"none":"flex",r.style.display="none"}}else document.querySelector(".empty-shopping-list-div").style.display="block",document.querySelector(".pagination").style.display="none"}var u=1;function d(){var e=Object.keys(localStorage).filter((function(e){return"BOOK"===localStorage[e]})).length,t=Math.ceil(e/3);o.textContent=u-1,l.textContent=u,c.textContent=u+1,1==u&&(o.textContent="-"),u==t&&(c.textContent="-");var n=document.querySelector(".pagination");e<=3&&(n.style.display="none")}t.addEventListener("click",(function(){u=1,d(),s(u)})),n.addEventListener("click",(function(){u>1&&(u--,d(),s(u))})),o.addEventListener("click",(function(){u>1&&(u--,d(),s(u))})),c.addEventListener("click",(function(){var e=Object.keys(localStorage).filter((function(e){return"BOOK"===localStorage[e]})).length,t=Math.ceil(e/3);u<t&&(u++,d(),s(u))})),a.addEventListener("click",(function(){var e=Object.keys(localStorage).filter((function(e){return"BOOK"===localStorage[e]})).length,t=Math.ceil(e/3);u<t&&(u++,d(),s(u))})),r.addEventListener("click",(function(){var e=Object.keys(localStorage).filter((function(e){return"BOOK"===localStorage[e]})).length,t=Math.ceil(e/3);u=t,d(),s(u)})),d(),s(u)}();
//# sourceMappingURL=shoping-list.3f5b1eba.js.map
