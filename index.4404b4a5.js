function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},l=o.parcelRequired7c6;null==l&&((l=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){s[e]=t},o.parcelRequired7c6=l),l.register("kyEFX",(function(t,o){var n,s;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var l={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)l[t[o]]=e[t[o]]},s=function(e){var t=l[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),l("kyEFX").register(JSON.parse('{"5ZPII":"index.4404b4a5.js","iaeKD":"logo_light.911f75c4.svg","gJlzP":"logo_dark.65f5fe07.svg"}'));var r;r=new URL(l("kyEFX").resolve("iaeKD"),import.meta.url).toString();var i;i=new URL(l("kyEFX").resolve("gJlzP"),import.meta.url).toString();const a=document.getElementById("slider"),c=document.body,d=document.getElementById("header"),u=document.getElementById("logo"),m=(document.querySelector("[data-menu-open]"),document.querySelector("[data-menu-close]"));document.getElementsByClassName("category_list")[0];function h(){d.style.setProperty("--header-bg-color-light","#111111"),d.style.setProperty("--header-border-color-light","#fff"),u.src=t(i),m.style.visibility="visible"}function g(){d.style.setProperty("--header-bg-color-light","#F9F9F9"),d.style.setProperty("--header-border-color-light","#000"),u.src=t(r)}"dark"===localStorage.getItem("theme")?(c.classList.add("dark-theme"),a.checked=!0,h()):(c.classList.remove("dark-theme"),a.checked=!1,g()),a.addEventListener("change",(function(){c.classList.toggle("dark-theme"),c.classList.contains("dark-theme")?(localStorage.setItem("theme","dark"),h()):(localStorage.setItem("theme","light"),g())})),(()=>{const e={openMenuBtn:document.querySelectorAll("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]")};function t(){e.menu.classList.toggle("is-hidden"),e.openMenuBtn.forEach((e=>e.classList.toggle("is-hidden"))),e.closeMenuBtn.classList.toggle("is-hidden")}e.openMenuBtn.forEach((e=>{e.addEventListener("click",t)})),e.closeMenuBtn.addEventListener("click",t)})();document.querySelectorAll(".curent-link").forEach((e=>{e.href===window.location.href?e.classList.add("curent-link"):e.classList.remove("curent-link")}));const p=document.querySelector(".js-list"),b=document.querySelector(".category_list"),f=document.querySelector(".title");function k(e){return fetch(`https://books-backend.p.goit.global/books/category?category=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}function y(e){if(e.target.closest(".category_item")){let t=e.target.textContent;t=t.trimStart(),k(t).then((e=>{p.innerHTML=v(e);const t=e[0].list_name.split(" "),o=t.splice(0,t.length-1).join(" "),n=t[t.length-1];f.innerHTML=`${o} <span class="books">${n}</span>`})).catch((e=>console.log(e)))}}function v(e){return e.map((({_id:e,book_image:t,author:o,title:n})=>`<li class="item-image js-book-item" data-id="${e}" >\n        <img class="book-image"  src="${t}" width="335" height="485" alt="${n}">\n    <h3 class="book-title">${n}</h3>\n    <p class="author-name">${o}</p>\n      </li>`)).join("")}function E(e){if(e.target.closest(".see-more-btn")){let t=e.currentTarget.children[0].textContent;t=t.trimStart(),k(t).then((e=>{p.innerHTML=v(e),function(e){const t=e.split(" "),o=t.splice(0,t.length-1).join(" "),n=t[t.length-1];f.innerHTML=`${o} <span class="books">${n}</span>`}(t)})).catch((e=>console.log(e)))}}p.addEventListener("click",(function(e){const t=e.target.closest(".js-book-item");if(t){const{id:e}=t.dataset;(o=e,fetch(`https://books-backend.p.goit.global/books/${o}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))).then((({_id:e,book_image:t,author:o,title:n,description:s})=>{const l=basicLightbox.create(`<div class="modal">\n      <button type="button" class="btn-modal-close" data-modal-close>\n      <svg width="24" height="24">\n        <use href="./images/icons-sprite/symbol-defs.svg#icon-x-closer"></use>\n      </svg>\n    </button>\n        <div class="modal-imgDescript">\n               <img src="${t}" alt="${e}"width="335" height="485">\n                <div>\n                <h3>${n}</h3>\n                <p class="modal-author">${o}</p>\n                <p class="modal-description">${s}</p>\n                <ul class="list-images">\n            <li><a href="https://www.amazon.com/" class="image-link image-link-amazon"></a></li>\n            <li><a href="https://www.openebooks.org/" class="image-link image-link-openBook"></a></li>\n            <li><a href="https://bookshop.org/" class="image-link image-link-bookShop"></a></li>\n          </ul>\n                </div>\n       </div>    \n       <div class="modal-buttons">     \n    <button class="add-remove-btn">Add to shoping list</button>\n    <span class="congratulations"\n      >Ð¡ongratulations! You have added the book to the shopping list. To delete,\n      press the button "Remove from the shopping list".</span\n    >\n    </div>\n              </div>`);l.show();const r=document.querySelector(".modal"),i=l.element().querySelector(".add-remove-btn"),a=l.element().querySelector(".congratulations");"BOOK"==localStorage.getItem(e)?(i.textContent="REMOVE FROM THE SHOPPING LIST",a.style.display="block"):(i.textContent="ADD TO SHOPPING LIST",a.style.display="none"),i.addEventListener("click",(()=>{i.classList.add("clicked"),"BOOK"==localStorage.getItem(e)?(localStorage.removeItem(e),i.textContent="ADD TO SHOPPING LIST",a.style.display="none",r.classList.remove("active")):(localStorage.setItem(e,"BOOK"),i.textContent="REMOVE FROM THE SHOPPING LIST",a.style.display="block",r.classList.add("active")),setTimeout((()=>{i.classList.remove("clicked")}),100)}))}))}var o})),fetch("https://books-backend.p.goit.global/books/top-books").then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>{p.insertAdjacentHTML("beforeend",e.map((({books:[{list_name:e}]})=>`\n  <li class="js-item item-list">\n        <h3 class="category-name">${e}</h3>\n        <ul class="category-menu js-add-list"></ul>\n        <button class="see-more-btn" type="button">SEE MORE</button>\n      </li>`)).join(""));const t=document.querySelectorAll(".js-add-list"),o=document.querySelectorAll(".js-item");for(let n=0;n<e.length;n+=1)t[n].insertAdjacentHTML("beforeend",v(e[n].books)),o[n].addEventListener("click",E)})).catch((e=>console.log(e))),fetch("https://books-backend.p.goit.global/books/category-list").then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>{b.insertAdjacentHTML("beforeend",e.map((({list_name:e})=>`<li class="js-item-category category_item">\n  ${e}</li>`)).join("")),b.addEventListener("click",y)})).catch((e=>console.log(e)));({el:document.querySelector(".btn-up"),show(){this.el.classList.remove("btn-up_hiden")},hide(){this.el.classList.add("btn-up_hiden")},addEventListener(){window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>200?this.show():this.hide()})),document.querySelector(".btn-up").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener();
//# sourceMappingURL=index.4404b4a5.js.map
